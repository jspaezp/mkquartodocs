# Test configuration for docs_assets
# Migrated from legacy expected_output.txt / expected_missing.txt

files_must_exist:
- ./site/page/index.html
- ./site/index.html
- ./site/page_files/figure-markdown/mermaid-figure-1.png
files_must_not_exist: []
snapshots:
  - site/index.html
  - site/page/index.html
  - "!**/*.css"
  - "!**/*.js"
  - "!**/*.gz"
  - "!**/*.png"
  - "!**/*.svg"
  - "!**/*.ico"
  - "!**/404.html"
  - "!**/sitemap.xml"

normalize:
  - pattern: "**/*.html"
    regex: '<meta name="generator" content="[^"]*">'
    replace: '<meta name="generator" content="mkdocs">'
  - pattern: "**/*.html"
    regex: 'Build Date UTC : [0-9]{4}-[0-9]{2}-[0-9]{2} [0-9]{2}:[0-9]{2}:[0-9]{2}\.[0-9]+\+00:00'
    replace: 'Build Date UTC : NORMALIZED'
  - pattern: "**/*.html"
    # <p><img alt="" src="../page_files/figure-markdown/mermaid-figure-1.png" />{width="2.13in"
    # height="2.9in"}</p>
    regex: '<p><img alt="" src="[^"]+"[ ]*/>{width="[0-9]+(\.[0-9]+)?in"'
    replace: '<p><img alt="" src="NORMALIZED"{width="NORMALIZED in"'
  - pattern: "**/*.html"
    regex: 'height="[0-9]+(\.[0-9]+)?in"}</p>'
    replace: 'height="NORMALIZED in"</p>'
